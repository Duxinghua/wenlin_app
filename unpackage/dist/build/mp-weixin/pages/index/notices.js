(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/notices"],{"50c0":function(t,n,i){"use strict";var e=i("88b6"),o=i.n(e);o.a},7677:function(t,n,i){"use strict";i.r(n);var e=i("e087"),o=i.n(e);for(var u in e)"default"!==u&&function(t){i.d(n,t,(function(){return e[t]}))}(u);n["default"]=o.a},"88b6":function(t,n,i){},ae5e:function(t,n,i){"use strict";(function(t){i("8cdf");e(i("66fd"));var n=e(i("d2d1"));function e(t){return t&&t.__esModule?t:{default:t}}t(n.default)}).call(this,i("543d")["createPage"])},d2d1:function(t,n,i){"use strict";i.r(n);var e=i("dd96"),o=i("7677");for(var u in o)"default"!==u&&function(t){i.d(n,t,(function(){return o[t]}))}(u);i("50c0");var c,s=i("f0c5"),a=Object(s["a"])(o["default"],e["b"],e["c"],!1,null,"c17a744a",null,!1,e["a"],c);n["default"]=a.exports},dd96:function(t,n,i){"use strict";i.d(n,"b",(function(){return o})),i.d(n,"c",(function(){return u})),i.d(n,"a",(function(){return e}));var e={uInput:function(){return Promise.all([i.e("common/vendor"),i.e("uview-ui/components/u-input/u-input")]).then(i.bind(null,"78a1"))},uIcon:function(){return i.e("uview-ui/components/u-icon/u-icon").then(i.bind(null,"30ff"))},uSelect:function(){return i.e("uview-ui/components/u-select/u-select").then(i.bind(null,"61e8"))}},o=function(){var t=this,n=t.$createElement;t._self._c;t._isMounted||(t.e0=function(n){t.cshow=!0},t.e1=function(n){t.cshow=!0})},u=[]},e087:function(t,n,i){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=function(){i.e("components/struggler-navigationCustom/navigation-custom").then(function(){return resolve(i("0d2f"))}.bind(null,i)).catch(i.oe)},o={components:{navigationCustom:e},data:function(){return{config:{title:"发布通知",bgcolor:"white",fontcolor:"rgba(51, 51, 51, 1)",type:1,transparent:!1,linear:!1,share:!1},scrollTop:0,scrollMaxHeight:200,title:"",content:"",clist:[],cshow:!1,id:0,btntext:"提交"}},onLoad:function(t){var n=this;t.id?(this.id=t.id,this.btntext="修改",this.$u.api.noticesdetail({id:this.id}).then((function(t){var i=t.title,e=t.content,o=t.images,u=t.community_id,c=[];o.map((function(t){c.push({http_url:t,url:t.replace(/https\:\/\/sq.wenlinapp.com\/upload\//,"")})})),n.uploadList=c,n.title=i,n.content=e,n.getComList((function(){n.clist.map((function(t){t.community_id==u&&(n.community_id=u,n.community_title=t.title)}))}))}))):this.btntext="提交"},onShow:function(){this.id||this.getComList((function(){}))},methods:{pushTodo:function(){var n=this,i={};if(!this.title.length)return this.$u.toast("请输入标题");if(i.title=this.title,!this.content.length)return this.$u.toast("请输入内容");if(i.content=this.content,!this.uploadList.length)return this.$u.toast("至少上传一张图片");var e=[];if(this.uploadList.map((function(t){e.push(t.url)})),i.images=e.join(","),!this.community_title.length)return this.$u.toast("请选择发布到那个机构");i.community_id=this.community_id,this.id?(i.id=this.id,this.$u.api.noticesedit(i).then((function(i){n.$u.toast("修改成功"),setTimeout((function(){t.navigateBack({delta:1})}),300)}))):this.$u.api.noticesAdd(i).then((function(i){n.$u.toast("发布成功"),setTimeout((function(){t.navigateBack({delta:1})}),300)}))}}};n.default=o}).call(this,i("543d")["default"])}},[["ae5e","common/runtime","common/vendor"]]]);